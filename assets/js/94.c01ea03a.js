(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{686:function(s,a,l){"use strict";l.r(a);var t=l(6),o=Object(t.a)({},(function(){var s=this,a=s.$createElement,l=s._self._c||a;return l("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[l("ul",[l("li",[s._v("安装")])]),s._v(" "),l("ol",[l("li",[l("p",[s._v("如果之前有mysql，把之前的mysql卸载")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("//查mysql\n[root@hadoop1 opt]# rpm -qa | grep mysql\nmysql-libs-x.x.xx.-x.xxx.xxx_xx\n//干掉mysql\n[root@hadoop1 opt]# rpm -e mysql-libs-x.x.xx.-x.xxx.xxx_xx\n//发现被啥啥需求需要，那就强制删除\n[root@hadoop1 opt]# rpm -e --nodeps mysql-libs-x.x.xx.-x.xxx.xxx_xx\n")])])])]),s._v(" "),l("li",[l("p",[s._v("安装编辑代码需要的包")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 opt]# yum -y install make gcc-c++ cmake bison-devel ncurses-devel\n")])])])]),s._v(" "),l("li",[l("p",[s._v("解压mysql")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 opt]# tar -zxvf mysql-x.x.xx.tar.gz\n")])])])]),s._v(" "),l("li",[l("p",[s._v("进入mysql目录")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 opt]# cd mysql-x.x.xx\n")])])])]),s._v(" "),l("li",[l("p",[s._v("编译安装")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 cd mysql-x.x.xx]# cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql\n-DMYSQL_DATADIR=/usr/local/mysql/data -DSYSCONFDIR=/etc\n-DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1\n-DWITH_MEMORY_STORAGE_ENGINE=1 -DWITH_READLINE=1\n-DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock -DMYSQL_TCP_PORT=3306\n-DENABLED_LOCAL_INFILE=1 -DWITH_PARTITION_STORAGE_ENHINE=1\n-DEXTRA_CHARSETS=all -DDEFAULT_CHARSET=utf8\n-DDEFAULT_COLLATION=utf8_general_ci\n")])])])]),s._v(" "),l("li",[l("p",[s._v("编译并安装")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 cd mysql-x.x.xx]# make && make install\n")])])])])]),s._v(" "),l("hr"),s._v(" "),l("ul",[l("li",[s._v("配置")])]),s._v(" "),l("ol",[l("li",[l("p",[s._v("查看自己有没有MySQL用户和组")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 cd mysql-x.x.xx]# cat /etc/passwd\n//没有mysql\n[root@hadoop1 cd mysql-x.x.xx]# cat /etc/group\n//也没有mysql\n")])])])]),s._v(" "),l("li",[l("p",[s._v("增加mysql组，增加mysql用户，用户放到mysql组")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 cd mysql-x.x.xx]# groupadd mysql\n[root@hadoop1 cd mysql-x.x.xx]# useradd -g mysql mysql\n")])])])]),s._v(" "),l("li",[l("p",[s._v("修改mysql权限")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 cd mysql-x.x.xx]# chown mysql:mysql /usr/local/mysql/\n")])])])]),s._v(" "),l("li",[l("p",[s._v("初始化")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 cd mysql-x.x.xx]# cd /usr/local/mysql/[root@hadoop1 cd mysql]# scripts/mysql_install_db --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --user=mysql\n")])])])]),s._v(" "),l("li",[l("p",[s._v("启动mysql")]),s._v(" "),l("p",[s._v("在启动MySQL服务时，会按照一定次序搜索my.cnf，先在/etc目录下找，找不到则会搜索“$basedir/my.cnf”，在本例中就是/usr/local/mysql/my.cnf，这是新版MySQL的配置文件的默认位置")]),s._v(" "),l("p",[s._v("在CentOS6.8版操作系统的最小安装完成后，在/etc目录下会存在一个my.cnf，需要将此文件更名为其他名字，否则，该文件会感染源码安装MySQL的正确配置，造成无法启动")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("//先查下有没有my.cnf，如果有，进行下面的修改名字，如果没有，就不用修改了[root@hadoop1 cd mysql]# ls -l /etc//修改名称[root@hadoop1 cd mysql]# mv /etc/my.cnf /etc.my.cnf.bak//[root@hadoop1 cd mysql]# cp support-files/mysql.server /etc/init.d/mysql//设置默认自启动[root@hadoop1 cd mysql]# chkconfig mysql on//启动[root@hadoop1 cd mysql]# service mysql start\n")])])])]),s._v(" "),l("li",[l("p",[s._v("修改root密码")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("[root@hadoop1 cd mysql]# cd bin/[root@hadoop1 cd bin]# ./mysql -u root -p//设置密码mysql> set password = password('root');mysql> quit//再次进入要输入密码[root@hadoop1 cd bin]# ./mysql -u root -pEnter password:\n")])])])]),s._v(" "),l("li",[l("p",[s._v("看下数据库")]),s._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("//先进入[root@hadoop1 cd bin]# ./mysql -u root -pEnter password://看下数据库show databases;\n")])])])])])])}),[],!1,null,null,null);a.default=o.exports}}]);